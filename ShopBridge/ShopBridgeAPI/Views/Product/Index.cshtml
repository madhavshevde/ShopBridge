@{
	ViewBag.Title = "ShopBridge Product Master";
}

@section Scripts {
	<script type="text/javascript" src="~/Scripts/Application/Controllers/product-controller.js"></script>
}

@section Body {
	<div ng-controller="productController">
		<div id="summary" class="section panel panel-primary" ng-show="model.displaySummary">
			<div class="panel-heading">Product Summary</div>
			<div class="panel-body">
				<table class="table table-striped table-condensed">
					<thead>
						<tr><th>Product ID</th><th>Product Name</th><th>Price</th><th></th></tr>
					</thead>
					<tbody>
						<tr ng-repeat="product in  model.products">
							<td>
								{{product.ProductID}}
							</td>
							<td>
								{{product.ProductName}}
							</td>
							<td>{{product.Price | currency}}</td>
							<td>
								<button class="btn btn-xs btn-primary"
										ng-click="removeProduct(product)">
									Remove
								</button>
								<button class="btn btn-xs btn-primary" ng-click="handleEditClick(product)">
									Edit
								</button>
							</td>
						</tr>
					</tbody>
				</table>
				<button class="btn btn-primary" ng-click="handleCreateClick()">
					Create
				</button>
			</div>
		</div>
		<div id="editor" class="section panel panel-primary" ng-hide="model.displaySummary">
			<div class="panel-heading">
				{{model.formTitle}} Product
			</div>
			<form name="productForm">
				<div class="panel-body">
					<div class="form-group">
						<label>Product Name</label>
						<input class="form-control" ng-model="model.editor.productName" ng-required="true" type="text" />
					</div>
					<div class="form-group">
						<label>Price</label>
						<input class="form-control" ng-model="model.editor.price" ng-required="true" type="number" />
					</div>
					<input type="submit" class="btn btn-primary" ng-click="productForm.$valid && handleEditorClick()" value="Save" />
					<button class="btn btn-primary"
							ng-click="back()">
						Back
					</button>
				</div>
			</form>
		</div>
	</div>
}